# Do příště udělám

- převedu mnohoúhelník na čtyřstěn
    - rozdělím hrany na vodorovné a svislé
    - poté každou skupinu na další dvojici (horní, dolní, pravá, levá)
    - pro každou skupinu spočítám přímku, která ji bude reprezentovat
    - na průnicích přímek budou vrcholy čtyřúhelníku
- zkusím nějak předzpracovat fotku, jesli to nepomůže v problémových případech
    - bilaterální filtr
    - normalizovat bílou

A pokud bude vše ok, tak program příště odevzdám jako hotový.

# Pokusy o preprocesing

- bilaterální filtr
    - nepomůže, šum není problém, ten je v distribuci zahrnut
- normalizovat bílou / pracovat na grayscale
    - nepomůže / zhorší výrazně
    - myslím, že černý text na bílém papíře je nerozeznatelný od šedého pozadí
    - to, že pracovat s jasem nepomáhá naznačuje fakt, že detektor nefunguje především na černobílých fotkách (málo barev, černé pozadí nebo s podobnou barvou jako účtenka)
    - další plus této hypotéze: po median filteru začne fungovat detekce na černobílých fotkách, ale zase rozbije jiné
- normalizovat vzdálenostní mapu
    - rozbije MSER, protože přestane být nalazený a vrácí nesmysly
    - (to co dřív byl šum jsou teď data a tak je vše v háji)
